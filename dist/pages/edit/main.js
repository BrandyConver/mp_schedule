require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([5],{AkLl:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("5nAL"),s=a.n(i),n=a("KM4z");new s.a(n.a).$mount()},BWxV:function(t,e,a){"use strict";e.a={data:function(){return{all_time:!1,task_name:"",start_date:"",start_time:"",end_date:"",end_time:"",create_time:"",isSave:!1}},methods:{change_sd:function(t){this.start_date=t.mp.detail.value},change_st:function(t){this.start_time=t.mp.detail.value},change_ed:function(t){this.end_date=t.mp.detail.value},change_et:function(t){this.end_time=t.mp.detail.value},AllTime:function(t){console.log(t.mp.detail.value),this.all_time=!this.all_time},setTime:function(){var t=new Date;this.start_date=this.end_date=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),this.start_time=this.end_time=t.getHours()+":"+t.getMinutes()},save:function(){if(""!==this.task_name){var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes(),a=wx.cloud.database().collection("tasks"),i={task_name:this.task_name,all_time:this.all_time,start_time:this.start_date+" "+this.start_time,end_time:this.end_date+" "+this.end_time,create_time:e};this.id?a.doc(this.id).update({data:i}).then(function(t){console.log(t)}):a.add({data:i}).then(function(t){wx.showToast({title:"保存成功",mask:!0})},function(t){console.log(t)}),wx.navigateBack({delta:9}),this.task_name=""}else wx.showToast({icon:"none",title:"内容不能为空",mask:!0})}},onLoad:function(t){t.id?(this.id=t.id,this.task_name=t.task_name,t.all_time?this.all_time=t.alltime:(this.start_date=t.start_time.split(" ")[0],this.start_time=t.start_time.split(" ")[1],this.end_date=t.end_time.split(" ")[0],this.end_time=t.end_time.split(" ")[1])):this.setTime()},onUnload:function(){}}},KM4z:function(t,e,a){"use strict";var i=a("BWxV"),s=a("Lh+q");var n=function(t){a("kKQL")},l=a("ybqe")(i.a,s.a,n,null,null);e.a=l.exports},"Lh+q":function(t,e,a){"use strict";var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"edit"}},[a("form",{staticClass:"data",attrs:{action:""}},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.task_name,expression:"task_name",modifiers:{lazy:!0}}],staticClass:"task_name",attrs:{type:"text",name:"task_name",maxlength:"50",placeholder:"任务名称",eventid:"0"},domProps:{value:t.task_name},on:{change:function(e){t.task_name=e.target.value}}}),t._v(" "),a("div",{staticClass:"switch"},[t._v("不限时间范围"),a("switch",{attrs:{eventid:"1"},on:{change:t.AllTime}})]),t._v(" "),a("div",{class:{pick:!0,dispick:t.all_time}},[a("picker",{staticClass:"picker",attrs:{mode:"date",value:t.start_date,disabled:t.all_time,eventid:"2"},on:{change:t.change_sd}},[t._v("\n\t\t\t\t    开始时间："+t._s(t.start_date)+"\n\t\t\t\t")]),t._v("  \n\t\t\t\t"),a("picker",{staticClass:"picker",attrs:{mode:"time",value:t.start_time,disabled:t.all_time,eventid:"3"},on:{change:t.change_st}},[t._v("\n\t\t\t\t    "+t._s(t.start_time)+"\n\t\t\t\t")])],1),t._v(" "),a("div",{class:{pick:!0,dispick:t.all_time}},[a("picker",{staticClass:"picker",attrs:{mode:"date",value:t.end_date,disabled:t.all_time,eventid:"4"},on:{change:t.change_ed}},[t._v("\n\t\t\t\t    结束时间："+t._s(t.end_date)+"\n\t\t\t\t")]),t._v("  \n\t\t\t\t"),a("picker",{staticClass:"picker",attrs:{mode:"time",value:t.end_time,disabled:t.all_time,eventid:"5"},on:{change:t.change_et}},[t._v("\n\t\t\t\t    "+t._s(t.end_time)+"\n\t\t\t\t")])],1)]),t._v(" "),a("div",{staticClass:"save"},[a("button",{attrs:{eventid:"6"},on:{click:t.save}},[t._v("保存")])],1)],1)},staticRenderFns:[]};e.a=i},kKQL:function(t,e){}},["AkLl"]);